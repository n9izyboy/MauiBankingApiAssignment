
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiBankingExercise.Views.AccountDetails"
             Title="Account Details">

    <ScrollView>
        <StackLayout Padding="20" Spacing="25">
            
            <Border StrokeThickness="0" 
                 BackgroundColor="#2C3E50"
                 StrokeShape="RoundRectangle 15">
                <Grid Padding="25">
                    <StackLayout Spacing="12">
                        <Label Text="Account Overview" 
                            FontSize="20" 
                            FontAttributes="Bold" 
                            TextColor="White" />
                        <Label Text="{Binding Account.AccountNumber, StringFormat='Account: {0}'}" 
                            FontSize="16" 
                            TextColor="#BDC3C7" />
                        <Label Text="{Binding Account.AccountBalance, StringFormat='Available: {0:C}'}" 
                            FontSize="28" 
                            FontAttributes="Bold" 
                            TextColor="#2ECC71" />
                    </StackLayout>
                </Grid>
            </Border>

           
            <Border StrokeThickness="1" 
                 Stroke="#E8E8E8"
                 BackgroundColor="White"
                 StrokeShape="RoundRectangle 15">
                <Grid Padding="25">
                    <StackLayout Spacing="20">
                        <StackLayout Orientation="Horizontal" 
                                  Spacing="10">
                            <Label Text="New Transaction" 
                                FontSize="20" 
                                FontAttributes="Bold" 
                                TextColor="#2C3E50"
                                VerticalTextAlignment="Center" />
                        </StackLayout>

                      
                        <StackLayout Spacing="8">
                            <Label Text="Transaction Type" 
                                FontSize="16" 
                                FontAttributes="Bold" 
                                TextColor="#34495E" />
                            <Border StrokeThickness="1" 
                                 Stroke="#ECF0F1"
                                 BackgroundColor="#ECF0F1"
                                 StrokeShape="RoundRectangle 10">
                                <Picker ItemsSource="{Binding TransactionTypes}" 
                                     SelectedItem="{Binding SelectedTransactionType}"
                                     FontSize="16"
                                     TextColor="#2C3E50" />
                            </Border>
                        </StackLayout>

                       
                        <StackLayout Spacing="8">
                            <Label Text="Amount" 
                                FontSize="16" 
                                FontAttributes="Bold" 
                                TextColor="#34495E" />
                            <Border StrokeThickness="1" 
                                 Stroke="#ECF0F1"
                                 BackgroundColor="#ECF0F1"
                                 StrokeShape="RoundRectangle 10">
                                <Entry Text="{Binding TransactionAmount}" 
                                    Keyboard="Numeric" 
                                    Placeholder="Enter amount ($)"
                                    FontSize="16"
                                    TextColor="#2C3E50"
                                    PlaceholderColor="#95A5A6" />
                            </Border>
                        </StackLayout>

                        
                        <Button Text="Process Transaction" 
                             Command="{Binding SubmitTransactionCommand}" 
                             BackgroundColor="#3498DB" 
                             TextColor="White"
                             FontSize="16"
                             FontAttributes="Bold"
                             CornerRadius="10"
                             HeightRequest="50" />
                    </StackLayout>
                </Grid>
            </Border>

            
            <StackLayout Spacing="15">
                <StackLayout Orientation="Horizontal" 
                          Spacing="10">
                    <Label Text="Recent Transactions" 
                        FontSize="20" 
                        FontAttributes="Bold" 
                        TextColor="#2C3E50"
                        VerticalTextAlignment="Center" />
                </StackLayout>

                <CollectionView ItemsSource="{Binding Transactions}"
                             ItemsLayout="VerticalList">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <StackLayout Padding="5,6">
                                <Border StrokeThickness="1" 
                                     Stroke="#E8E8E8"
                                     BackgroundColor="White"
                                     StrokeShape="RoundRectangle 12">
                                    <Grid Padding="20">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        
                                        <Border Grid.Column="0" 
                                             WidthRequest="40" 
                                             HeightRequest="40" 
                                             StrokeShape="RoundRectangle 20"
                                             StrokeThickness="0"
                                             VerticalOptions="Center">
                                            <Border.Triggers>
                                                <DataTrigger TargetType="Border" 
                                                          Binding="{Binding TransactionType.Name}" 
                                                          Value="Deposit">
                                                    <Setter Property="BackgroundColor" Value="#2ECC71" />
                                                </DataTrigger>
                                                <DataTrigger TargetType="Border" 
                                                          Binding="{Binding TransactionType.Name}" 
                                                          Value="Withdrawal">
                                                    <Setter Property="BackgroundColor" Value="#E74C3C" />
                                                </DataTrigger>
                                            </Border.Triggers>
                                            <Label FontSize="18" 
                                                TextColor="White"
                                                HorizontalTextAlignment="Center"
                                                VerticalTextAlignment="Center">
                                                <Label.Triggers>
                                                    <DataTrigger TargetType="Label" 
                                                              Binding="{Binding TransactionType.Name}" 
                                                              Value="Deposit">
                                                        <Setter Property="Text" Value="+" />
                                                    </DataTrigger>
                                                    <DataTrigger TargetType="Label" 
                                                              Binding="{Binding TransactionType.Name}" 
                                                              Value="Withdrawal">
                                                        <Setter Property="Text" Value="-" />
                                                    </DataTrigger>
                                                </Label.Triggers>
                                            </Label>
                                        </Border>

                                       
                                        <StackLayout Grid.Column="1" 
                                                  Spacing="4" 
                                                  VerticalOptions="Center"
                                                  Margin="15,0,0,0">
                                            <Label Text="{Binding TransactionType.Name}" 
                                                FontSize="16" 
                                                FontAttributes="Bold" 
                                                TextColor="#2C3E50" />
                                            <Label Text="{Binding TransactionDate, StringFormat='{0:MMM dd, yyyy hh:mm tt}'}" 
                                                FontSize="13" 
                                                TextColor="#7F8C8D" />
                                            <Label Text="{Binding Description}" 
                                                FontSize="12" 
                                                TextColor="#95A5A6" />
                                        </StackLayout>

                                       
                                        <StackLayout Grid.Column="2" 
                                                  VerticalOptions="Center"
                                                  HorizontalOptions="End">
                                            <Label Text="{Binding Amount, StringFormat='{0:C}'}" 
                                                FontSize="18" 
                                                FontAttributes="Bold"
                                                HorizontalTextAlignment="End">
                                                <Label.Triggers>
                                                    <DataTrigger TargetType="Label" 
                                                              Binding="{Binding TransactionType.Name}" 
                                                              Value="Deposit">
                                                        <Setter Property="TextColor" Value="#2ECC71" />
                                                    </DataTrigger>
                                                    <DataTrigger TargetType="Label" 
                                                              Binding="{Binding TransactionType.Name}" 
                                                              Value="Withdrawal">
                                                        <Setter Property="TextColor" Value="#E74C3C" />
                                                    </DataTrigger>
                                                </Label.Triggers>
                                            </Label>
                                        </StackLayout>
                                    </Grid>
                                </Border>
                            </StackLayout>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </StackLayout>

            
            <ActivityIndicator IsVisible="{Binding IsLoading}" 
                            IsRunning="{Binding IsLoading}"
                            Color="#3498DB"
                            WidthRequest="40"
                            HeightRequest="40" />
        </StackLayout>
    </ScrollView>












</ContentPage>